{% extends "ssg.html" %}
{% block content %}

<!--<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="{{ url_for('static', filename='bootstrap-carousel.js') }}"></script>

<div style="width: 80%;margin: auto;" id="myCarousel" class="carousel slide lazy" data-interval="false">

	<div class="carousel-inner" role="listbox">
		{% for photo in photos %}
			{% if loop.index0 == 0 %}
				<div class="item active">
					<p>Image: {{photo}}</p>
					<img alt="house picture" src="/static/housepics/{{house}}/{{photo}}">
				</div>
			{% else %}
				<div class="item">
					<p>Image: {{photo}}</p>
					<img alt="house picture" data-src="/static/housepics/{{house}}/{{photo}}">
				</div>
			{% endif %}
		{% endfor %}
	</div>
		<a class="left carousel-control" href="#myCarousel" data-slide="prev">
		<span class="sr-only">Previous</span>
	</a>
	<a class="right carousel-control" href="#myCarousel" data-slide="next">

		<span class="sr-only">Next</span>
	</a>
</div>

<script>
//$(function() {
//	return $(".carousel.lazy").on("slide.bs.carousel", function(ev) {
//		var lazy;
//		lazy = $(ev.relatedTarget).find("img[data-src]");
//		alert(lazy.attr("data-src"));
//		lazy.attr("src", lazy.data('src'));
//		lazy.removeAttr("data-src");
//	});
//});



$('document').ready(function() {
	$('#myCarousel').on('slid', function (e) {
		var url = $('.item.active').find("img").attr('data-src'); 
		$('.item.active').find("img").attr("src", url); //set value : src = url
	});
});


</script>

{% endblock %}


